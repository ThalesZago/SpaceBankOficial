CREATE TABLE agencia (
  id_agencia int(11) NOT NULL AUTO_INCREMENT,
  nome_agencia varchar(20) DEFAULT NULL,
  PRIMARY KEY (id_agencia)
);

CREATE TABLE cliente (
  id_cliente int(11) NOT NULL AUTO_INCREMENT,
  nomeCompleto varchar(100) DEFAULT NULL,
  idade int(2) DEFAULT NULL,
  cpfCnpj varchar(14) DEFAULT NULL,
  pessoaFisica bit(1) DEFAULT NULL,
  email varchar(100) DEFAULT NULL,
  senha varchar(8) DEFAULT NULL,
  PRIMARY KEY (id_cliente)
);

CREATE TABLE gerente (
  id_gerente int(11) NOT NULL AUTO_INCREMENT,
  cpf varchar(11) DEFAULT NULL,
  nomeCompleto varchar(100) DEFAULT NULL,
  PRIMARY KEY (id_gerente)
);

CREATE TABLE tipoconta (
  id_tipoConta int(11) NOT NULL AUTO_INCREMENT,
  nome_tipo varchar(20) DEFAULT NULL,
  PRIMARY KEY (id_tipoConta)
);

CREATE TABLE tipotransacoes (
  id_transacao int(11) NOT NULL AUTO_INCREMENT,
  nome_transacao varchar(50) DEFAULT NULL,
  PRIMARY KEY (id_transacao)
);

CREATE TABLE transacoes (
  id_transacao int(11) NOT NULL AUTO_INCREMENT,
  localCompra varchar(255) DEFAULT NULL,
  valorTotalCompra decimal(8,2) DEFAULT NULL,
  id_tipoTransacao int(11) DEFAULT NULL,
  PRIMARY KEY (id_transacao),
  foreign key(id_tipoTransacao) references tipotransacoes(id_transacao)
);

CREATE TABLE conta (
  numeroConta int(11) NOT NULL AUTO_INCREMENT,
  id_agencia int(11) DEFAULT NULL,
  id_gerente int(11) DEFAULT NULL,
  id_cliente int(11) DEFAULT NULL,
  tipoConta int(11) DEFAULT NULL,
  rendimentoDiario int(11) DEFAULT NULL,
  id_transacao int(11) DEFAULT NULL,
  saldo decimal(8,2) DEFAULT NULL,
  PRIMARY KEY (numeroConta),
  KEY id_agencia (id_agencia),
  KEY tipoConta (tipoConta),
  KEY id_cliente (id_cliente),
  KEY id_gerente (id_gerente),
  KEY id_transacao (id_transacao),
  CONSTRAINT conta_ibfk_1 FOREIGN KEY (id_agencia) REFERENCES agencia (id_agencia),
  CONSTRAINT conta_ibfk_2 FOREIGN KEY (tipoConta) REFERENCES tipoconta (id_tipoConta),
  CONSTRAINT conta_ibfk_3 FOREIGN KEY (id_cliente) REFERENCES cliente (id_cliente),
  CONSTRAINT conta_ibfk_4 FOREIGN KEY (id_gerente) REFERENCES gerente (id_gerente),
  CONSTRAINT conta_ibfk_5 FOREIGN KEY (id_transacao) REFERENCES transacoes (id_transacao)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


insert into agencia(nome_agencia) values('UNASP-HT'),('UNASP-EC'),('UNASP-SP');

insert into gerente(cpf, nomeCompleto) values('99988877754','Ellen Salicani'),('65544466677','Thales Zago'),('44433399900','Gregory Oliveira');

insert into conta(id_agencia, id_gerente, id_cliente, tipoConta, saldo) values(1,2,1,1,260.50);

insert into tipoconta(nome_tipo) values('Corrente'),('Poupança');

INSERT INTO tipotransacoes (nome_transacao) VALUES 
('Cartão Débito'),('Cartão Credito'),('Saque'),
('Transferência'),('Depósito'),('Pagamento Caixa Eletrônico'),
('Pagamento Internet Banking');

